# MISIS Schedule VK BOT

## Цель
Облегчить жизнь студентам НИТУ "МИСИС", которые предпочли бы смотреть расписание занятий в VK ~~(автор входит в число этих студентов, и, будем честны, думает только о себе, его истинная цель - облегчить жизнь себе)~~

## Задачи
- Создать бота, предоставляющего доступ к расписанию занятий московской площадки НИТУ "МИСИС", посредством отправки личных текстовых сообщений в VK
- Реализовать возможность выбора академической группы (с сохранением выбора в базу данных), просмотра расписания на сегодня, завтра, и любой выбранный пользователем день недели

## Актуальность
Поскольку на момент публикации последней версии кода учебный семестр окончен, продукт утратил актуальность до сентября. В связи с этим, в целях отладки его работы, было принято решение отображать расписание двухмесячной давности. Как только новое расписание грядущего семестра станет доступно на сайте НИТУ "МИСИС", бот сможет отображать его актуальную версию. Бот будет очень полезен студентам, или по крайней мере пригодится своему автору.

## Используемые библиотеки
### requests
Использована для получения актуального расписания с сайта НИТУ "МИСИС" посредством HTTP-GET запроса
### mysql-connector-python
Использована для работы с базой данных
### vk-api
Использована для реализации пользовательского функционала бота

## Описание работы бота
При запуске бот подключается к серверу СУБД, импортирует структуру базы данных `vkbot` из файла `vkbot.sql` вместе с необходимым содержимым (содержимым таблицы `groups`, где приводится однозначеное соответствие между аббревиатурами групп и их id-номерами, необходимыми для отправки запроса на получение расписания).

При первом "обращении" нового пользователя бот отправляет приветственное сообщение с текстом
```
Какие запросы распознаёт бот?

"сегодня" / "завтра" / "послезавтра"
"[день недели]" (пример: "вторник" или "вт")

Также можно воспользоваться клавиатурой

Перед началом работы необходимо выбрать интересующую Вас академическую группу ("Выбрать группу")
```
После чего в распоряжении пользователя появляется клавиатура с активной кнопкой "Выбрать группу".

Выбрав группу, пользователь может задействовать весь реализованный функционал бота. Выбранная пользователем группа сохраняется в базу данных.

Ему доступна клавиатура с кнопками "Сегодня", "Завтра", "Выбрать группу" (для изменения группы в случае, если это потребуется). Помимо кнопок клавиатуры, пользователь может вводить текстовые сообщения-команды для запроса расписания на определенный день, к примеру:
- "Сегодня"
- "Завтра"
- "Понедельник"
- "Пятница"

Для дней недели также доступны сокращенные варианты, к примеру: "пн", "вт", и т.д.

В ответ на запрос бот отправляет расписание на выбранный день.

Актуальное расписание бот получает напрямую с сайта НИТУ "МИСИС", осуществляя парсинг JSON-ответа на HTTP-GET запрос к `https://lk.misis.ru/method/schedule.get`

## Варианты доработки программы
- Добавить возможность выбора подгруппы / языковой группы (для занятий по иностранному языку)
- Реализовать получение расписания для преподавателей и учебных аудиторий (полностью перенести функционал страницы с расписанием сайта НИТУ "МИСИС" в "обёртку" бота)
- Повысить удобство пользователей, переработав клавиатуру (по аналогии с тем, как это реализовано в известном Telegram-Боте)
- Привести написанный код в порядок (структурирование, повышение читаемости)
- Добавить функцию отправки "уведомлений" о расписании на завтрашний день (с возможностью настройки времени отправки)

## Могу ли я опробовать работу бота?
Да. Авторизуйтесь на сайте VK, перейдя на [страницу](https://vk.com/schedulebotmisis), а затем напишите в личные сообщения сообщества.

